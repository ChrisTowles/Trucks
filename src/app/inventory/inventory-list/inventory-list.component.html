<div class="jumbotron">
  <div class="container">
    <h1>Inventory</h1>
  </div>
</div>
<div class="container">
  <div class="row pb-2">
    <div class="col">
      <form class="form-inline" novalidate [formGroup]="searchForm">
        <div class="input-group">
          <input class="form-control" type="search" formControlName="searchText" placeholder="Search"
                 aria-label="Search">
          <span class="input-group-btn">
          <button class="btn btn-secondary" (click)="search()">Search</button>
          </span>
        </div>

        <button class="btn btn-info ml-sm-2 mt-2 mt-sm-0" (click)="searchClear()">Clear</button>
        <button type="button" class="btn btn-primary ml-auto mt-2 mt-sm-0" (click)="add()"
                *ngIf="authService.isAdmin()">
          Add
        </button>
      </form>
    </div>
  </div>
  <div class="row" *ngIf="(inventory | async)?.length != 0">
    <div class="col-lg-3 col-md-4 col-sm-6 col-12 mb-3"
         *ngFor="let item of inventory | async; let i = index ">
      <div class="card border-primary">
        <a [routerLink]="[item.id]">
          <img class="card-img-top" src="{{ 'http://lorempixel.com/400/200/transport/' + i }}"
               alt="Card image cap">
        </a>
        <div class="card-body">
          <h4 class="card-title">{{ item.name }}</h4>
          <div class="row">
            <div class="col-6">Engine</div>
            <div class="col-6">{{item.engineMake}}</div>
          </div>
          <div class="row">
            <div class="col-6">Trans</div>
            <div class="col-6">{{item.transmission}}</div>
          </div>
          <div class="row">
            <div class="col-6">Susp</div>
            <div class="col-6">{{item.suspension}}</div>
          </div>
          <div class="row">
            <div class="col-6">Miles</div>
            <div class="col-6">{{item.odometer}}</div>
          </div>
          <div class="row">
            <div class="col-6">Price</div>
            <div class="col-6">{{item.price}}</div>
          </div>
        </div>
        <div class="card-footer" *ngIf="authService.isAdmin()">
          <button type="button" class="btn btn-danger" (click)="delete(item)">
            Delete
          </button>
          <a class="btn btn-primary" [routerLink]="[ item.id, 'edit']">
            Edit
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="(inventory | async)?.length == 0">
    <div class="col">
      <p class="lead">Sorry, no results found!</p>
    </div>
  </div>
</div>
